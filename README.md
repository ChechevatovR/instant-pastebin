# Instant Pastebin

Что если бы скайп реально был файлообменником

---

Реализация p2p передачи файлов поверх WebRTC с Web и CLI реализациями клиентов.


## Сборка

### Хранилище сессий

**Prerequisites:** установленные Rust тулчейн и Cargo. С инструкцией можно ознакомиться, например, [здесь](https://rustup.rs/)

В директории `backend` выполните команду `cargo run`. 

### CLI-клиент

**Prerequisites:** установленные Rust тулчейн и Cargo. С инструкцией можно ознакомиться, например, [здесь](https://rustup.rs/)

- Отправка: в директории `cli` выполните команду `cargo run -- --send <filename>`, где filename -- путь к файлу, который необходимо отправить
- Получение: в директории `cli` выполните команду `cargo run -- --receive <session-id>`, где session-id -- идентификатор сессии, полученный от отправителя

В коде клиента захардкожен адрес хранилища сессий. 
Если вы хотите использовать свой -- необходимо заменить адрес в исходном коде программы

### Web-клиент

**Prerequisites:** установленный npm. С инструкцией можно ознакомиться, например, [здесь](https://www.google.com/search?q=install+npm)

В директории `frontend` выполните команду `npm i` для установки зависимостей (достаточно сделать однократно).
После этого выполните `npx vite` для запуска веб-сервера

В коде клиента захардкожен адрес хранилища сессий.
Если вы хотите использовать свой -- необходимо заменить адрес в исходном коде программы

#### Сборка DOOM

**Prerequisites:** установленный `emscripten`, библиотеки `SDL2`, `SDL2_image`, `SDL2_ttf`.

В директории `frontend/games/wasmDOOM/src` выполнить `make`. Скопировать файлы из `frontend/games/wasmDOOM/public`:
- `shareware.wad` и `wasm/wasm-doom.wasm` в `frontend/public/doom/`
- `wasm/wasm-doom.js` в `frontend/src/doom/`
